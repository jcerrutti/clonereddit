(this["webpackJsonpclone-reddit"]=this["webpackJsonpclone-reddit"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/comment.4c471c20.svg"},function(e,t,n){e.exports=n(33)},,,,,function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(3),r=n.n(i),s=(n(20),n(1)),o=n(2),l=n(11),u=n(12),m=n(7);function d(e){return function(t){return t(function(e){return{type:"REQUEST_POSTS",subreddit:e}}(e)),function(e){return fetch("https://www.reddit.com/r/".concat(e,"/top.json?limit=50")).then((function(e){return e.json()}))}(e).then((function(e){return t(function(e){return{type:"RECEIVE_POSTS",posts:e.data.children.map((function(e){return Object(m.a)(Object(m.a)({},e.data),{},{visited:!1})}))}}(e))}))}}function p(e,t){var n=e.items.filter((function(e){return e.id!==t}));return Object.assign({},e,{items:n,postSelected:e.postSelected.id===t?n[0]:e.postSelected})}function f(e,t){return Object.assign({},e,{items:E(e,t.id,{visited:!0}),postSelected:t})}function E(e,t,n){for(var a=e.items,c=0;c<a.length;c++)if(a[c].id===t){a[c]=Object.assign(a[c],n);break}return a}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,items:[],postSelected:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIVE_POSTS":return t.posts[0].visited=!0,Object.assign({},e,{isFetching:!1,items:t.posts,postSelected:t.posts[0]});case"REQUEST_POSTS":return Object.assign({},e,{isFetching:!0,subreddit:t.subreddit},t);case"DISMISS_ALL":return Object.assign({},e,{items:[],postSelected:null},t);case"POST_SELECTED":return f(e,t.postSelected);case"POST_DISMISSED":return p(e,t.postIdDismissed);default:return e}},S=Object(u.createLogger)();n(26),n(27);var b=n(13),v=n.n(b),g=n(14),O=n.n(g);n(29);function j(){return c.a.createElement("span",{className:"dot"})}function N(e){var t=e.thumbnail,n=e.interactive;return void 0!==n&&n?c.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},c.a.createElement("img",{alt:"thumbnail",src:t})):c.a.createElement("img",{alt:"thumbnail",src:t})}function k(e){var t=e.post,n=e.onClickHandler,a=e.onDismissPost,i=e.isSelected,r=v.a.unix(t.created_utc).utc().fromNow(),s="post-list".concat(i?" selected":"");return c.a.createElement("div",{className:s,onClick:function(){return n(t)}},c.a.createElement("h4",{className:"title"},!t.visited&&c.a.createElement(j,null),t.title),c.a.createElement("p",{className:"author"},"by ",t.author),c.a.createElement("div",null,"self"!==t.thumbnail&&c.a.createElement(N,{thumbnail:t.thumbnail,interactive:!1})),c.a.createElement("p",{className:"comments"},c.a.createElement("img",{className:"comment-icon",alt:"comment-icon",src:O.a}),t.num_comments," comments"),c.a.createElement("p",{className:"date-created"},"Created: ",r),c.a.createElement("button",{onClick:function(e){return function(e,t){e.stopPropagation(),a(t)}(e,t)},className:"dismiss-button"},"Dismiss"))}n(30);function D(){return c.a.createElement("div",{className:"loader"})}n(31);var _=Object(s.b)((function(e){return{postSelected:e.postSelected,subreddit:e.subreddit}}))((function(e){var t=e.posts,n=e.dispatch,a=e.postSelected,i=e.isFetching,r=e.subreddit;function s(e){n(function(e){return{type:"POST_SELECTED",postSelected:e}}(e))}function o(e){n(function(e){return{type:"POST_DISMISSED",postIdDismissed:e.id}}(e))}return c.a.createElement("aside",null,i?c.a.createElement(D,null):t.length?t.map((function(e){return c.a.createElement(k,{isSelected:a.id===e.id,onDismissPost:o,onClickHandler:s,key:e.id,post:e})})):c.a.createElement("button",{onClick:function(){n(d(r))},className:"refresh-button"},"Refresh List"))}));n(32);function w(e){var t=e.post;return c.a.createElement("div",{className:"post-home"},c.a.createElement("h3",null,t.title),"self"!==t.thumbnail&&c.a.createElement(N,{thumbnail:t.thumbnail,interactive:!0}),c.a.createElement("a",{className:"post-link",href:t.url,target:"_blank",rel:"noopener noreferrer"},"Read it on Reddit"))}function I(e){var t=e.post;return c.a.createElement(w,{post:t})}var C,T=Object(s.b)((function(e){var t=e.isFetching,n=e.lastUpdated;return{posts:e.items||[],isFetching:t||!1,postSelected:e.postSelected||null,lastUpdated:n}}))((function(e){var t=e.posts,n=e.postSelected,i=e.isFetching,r=e.dispatch;return Object(a.useEffect)((function(){r(d("reactjs"))}),[]),c.a.createElement("div",{className:"main-container"},c.a.createElement(_,{posts:t,isFetching:i}),c.a.createElement("div",null,!!t.length&&c.a.createElement("button",{onClick:function(){r({type:"DISMISS_ALL"})},className:"dismiss-all-button"},"Dismiss All"),c.a.createElement("h1",{className:"app-title"},"CloneReddit"),n&&c.a.createElement(I,{post:n})))})),P=Object(o.c)(h,C,Object(o.a)(l.a,S));var y=function(){return c.a.createElement(s.a,{store:P},c.a.createElement(T,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[15,1,2]]]);
//# sourceMappingURL=main.8219f730.chunk.js.map